<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AJAX:HTML GET 방식 요청 방식</title>
<script>
    window.onload = function(){
        document.querySelector('#getSend').addEventListener('click',myclick,false);
    }
   xhr = new XMLHttpRequest();
    function myclick(){
        //1. 객체 생성
        xhr = new XMLHttpRequest();
        //받아온 결과 처리
        xhr.onreadystatechange = myResult;
        //2.OPEN
        let name = document.querySelector('#name').value; ///value안해서 값 안나옴
        let age = document.querySelector('#age').value;
        let phone = document.querySelector('#phone').value;
        let param = 'name=' + name + '&age=' + age + '&phone=' + phone;
        xhr.open('get','/Day80/servlets/servlet/ParameterGet?' + param, true);
        //3.SEND: GET은 NULL
        xhr.send(null);
    }
    function myResult(){
        if(xhr.readyState == 4 && xhr.status == 200){
            document.querySelector('#resultDisplay').innerHTML = xhr.responseText; //태그 사이에 값을 넣는다.
        }
    }
</script>
</head>
<body>
    <form>
        <h3>GET방식으로 요청파라미터 보내기</h3>
        이름: <input id="name" type="text" /><br/>
        나이: <input id="age" type="text" /><br/>
        휴대폰: <input id="phone" type="text" /><br/>
        <input id="getSend" type="button" value="GET방식으로 요청파라미터 보내기" /><br/>
        </form>
        <h3>응답결과</h3>
        <div id='resultDisplay'></div>
</body>
</html>